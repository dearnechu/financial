<?php
// init gnupg
$res = gnupg_init();
// not really needed. Clearsign is default
gnupg_setsignmode($res,GNUPG_SIG_MODE_CLEAR);
// add key with passphrase 'test' for signing
$finger = "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
HA==
=bepU";

gnupg_addsignkey($res,$finger,"test");

// sign
$signed = gnupg_sign($res,"just a test");
echo "->".$signed;
?>